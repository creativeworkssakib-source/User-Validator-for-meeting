<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Join Zoom — Automation with SAKIB</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#3156ff; --bg2:#8b4ccd;
      --card:#ffffff; --muted:#6b7280;
      --accent-a:#6673ff; --accent-b:#8b4ccd;
      --danger:#e14b4b; --success:#16a34a;
      font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      background:linear-gradient(135deg,var(--bg1),var(--bg2));
      -webkit-font-smoothing:antialiased;color:#0b1220;overflow-x:hidden;
    }

    /* animated background */
    .bg{position:fixed;inset:0;z-index:0;pointer-events:none;background:
      radial-gradient(800px 500px at 10% 20%, rgba(255,255,255,0.05), transparent 10%),
      radial-gradient(700px 420px at 80% 80%, rgba(255,255,255,0.03), transparent 8%),
      linear-gradient(135deg,var(--bg1),var(--bg2));animation:bgShift 20s linear infinite}
    @keyframes bgShift{0%{transform:translateY(0)}50%{transform:translateY(-12px)}100%{transform:translateY(0)}}

    .particles{position:fixed;inset:0;pointer-events:none;z-index:0;opacity:0.12}
    .particles .dot{position:absolute;border-radius:50%;background:rgba(255,255,255,0.12);filter:blur(6px);animation:floaty 12s ease-in-out infinite}
    @keyframes floaty{0%{transform:translateY(0)}50%{transform:translateY(-24px)}100%{transform:translateY(0)}}

    .stage{position:relative;z-index:2;width:100%;max-width:1150px;margin:40px auto;display:grid;grid-template-columns:1fr 540px;gap:34px;padding:0 20px}
    @media (max-width:980px){.stage{grid-template-columns:1fr}}

    /* left showcase */
    .showcase{padding:40px;border-radius:18px;background:linear-gradient(180deg, rgba(255,255,255,0.025), rgba(255,255,255,0.01));box-shadow:0 26px 60px rgba(6,12,35,0.12);color:#fff;min-height:460px;position:relative;overflow:hidden}
    .blob{position:absolute;right:-80px;top:-60px;width:520px;height:520px;border-radius:50%;background:linear-gradient(120deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));filter:blur(40px);opacity:.95;animation:blobFloat 14s ease-in-out infinite}
    @keyframes blobFloat{0%{transform:translateY(0) rotate(0)}50%{transform:translateY(-20px) rotate(12deg)}100%{transform:translateY(0) rotate(0)}}
    .badge{display:inline-flex;gap:12px;align-items:center;padding:10px 12px;border-radius:12px;background:linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));margin-bottom:16px}
    .badge .iconWrap{width:46px;height:34px;border-radius:10px;display:flex;align-items:center;justify-content:center;color:#fff}
    .title{font-size:36px;line-height:1.02;margin:0 0 10px;font-weight:700}
    .subtitle{color:rgba(255,255,255,0.92);margin-bottom:18px;font-size:15px}

    /* PERKS: premium circular icons */
    .perkGrid{display:grid;gap:12px;margin-top:16px}
    .perk{display:flex;gap:14px;align-items:center;padding:12px;border-radius:12px;background:rgba(255,255,255,0.02)}
    .perk .iconCircle{
      width:52px;height:52px;border-radius:12px;display:flex;align-items:center;justify-content:center;
      background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      box-shadow:0 10px 26px rgba(7,11,30,0.06);
      flex:0 0 52px;
    }
    .perk svg{width:22px;height:22px;display:block}
    .perk strong{display:block;font-weight:700}
    .perk small{display:block;color:rgba(255,255,255,0.9);font-size:13px}

    /* right card */
    .card{background:var(--card);border-radius:14px;padding:28px;box-shadow:0 28px 80px rgba(6,12,35,0.12);position:relative;overflow:visible;border:1px solid rgba(12,18,45,0.03)}
    .brand{display:flex;gap:14px;align-items:center;margin-bottom:6px}
    .logoBox{width:64px;height:48px;border-radius:12px;background:linear-gradient(180deg,var(--accent-a),var(--accent-b));display:flex;align-items:center;justify-content:center;color:#fff}
    h1{margin:0;font-size:20px}
    .sub{color:var(--accent-b);font-weight:700;margin-top:4px;font-size:13px}
    p.lead{color:var(--muted);margin:12px 0 18px;font-size:14px}

    form{margin-top:6px}
    .field{position:relative;margin-bottom:18px}
    .field input{width:100%;padding:14px 54px 14px 14px;border-radius:10px;border:1px solid #eef2ff;background:linear-gradient(180deg,#fbfdff,#fff);font-size:15px;transition:box-shadow .14s,transform .12s}
    .field label{position:absolute;left:14px;top:14px;color:#7b8794;font-size:13px;pointer-events:none;transition:transform .14s,font-size .14s,top .14s,color .14s}
    .field input:focus + label, .field input.not-empty + label{transform:translateY(-10px) scale(.92);font-size:12px;top:6px;color:var(--accent-b)}
    .field .icon{position:absolute;right:12px;top:50%;transform:translateY(-50%);width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(102,115,255,0.06), rgba(139,76,205,0.04))}
    .underline{position:absolute;left:12px;right:12px;bottom:8px;height:3px;border-radius:6px;background:linear-gradient(90deg, rgba(102,115,255,0.14), rgba(139,76,205,0.12));overflow:hidden}
    .underline::after{content:'';position:absolute;left:0;top:0;bottom:0;width:0%;background:linear-gradient(90deg,var(--accent-a),var(--accent-b));transition:width .28s;border-radius:6px}
    .field input:focus ~ .underline::after, .field input.not-empty ~ .underline::after{width:100%}

    .btn{margin-top:6px;width:100%;padding:12px 14px;border-radius:10px;border:none;color:#fff;font-weight:800;background:linear-gradient(90deg,var(--accent-a), var(--accent-b));box-shadow:0 16px 40px rgba(86,92,255,0.12);cursor:pointer;display:flex;align-items:center;justify-content:center;gap:12px;transition:transform .12s}
    .btn:hover{transform:translateY(-3px)}
    .btn[disabled]{opacity:.78;cursor:default;transform:none;box-shadow:none}
    .spinner{width:18px;height:18px;border-radius:50%;border:3px solid rgba(255,255,255,0.25);border-top-color:#fff;animation:spin .78s linear infinite}
    @keyframes spin{to{transform:rotate(360deg)}}

    .muted{color:var(--muted);font-size:13px;margin-top:12px;text-align:center}

    /* ALERTS improved */
    .alert{margin-top:14px;padding:12px;border-radius:10px;display:flex;gap:12px;align-items:flex-start}
    .alert .ai{flex:0 0 36px;display:flex;align-items:center;justify-content:center;border-radius:8px;padding:6px}
    .alert.success{background:rgba(22,160,80,0.06);border:1px solid rgba(22,160,80,0.12);color:var(--success)}
    .alert.success .ai{background:rgba(22,160,80,0.08);color:var(--success)}
    .alert.fail{background:rgba(225,75,75,0.06);border:1px solid rgba(225,75,75,0.14);color:var(--danger)}
    .alert.fail .ai{background:rgba(225,75,75,0.08);color:var(--danger)}
    .alert strong{display:block}
    .alert div:last-child{font-size:14px;color:inherit}

    .success-card{margin-top:14px;padding:16px;border-radius:10px;border:1px solid rgba(22,160,80,0.12);background:linear-gradient(180deg, rgba(22,160,80,0.03), rgba(255,255,255,0.01))}
    .success-card a{display:inline-block;margin-top:10px;padding:10px 14px;border-radius:10px;background:#fff;color:var(--accent-b);text-decoration:none;font-weight:700}

    #confetti{position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:3}
    @media (max-width:560px){ .stage{grid-template-columns:1fr} .card{width:94vw} }
  </style>
</head>
<body>
  <div class="bg" aria-hidden></div>
  <div class="particles" aria-hidden>
    <div class="dot" style="left:8%;top:12%;width:160px;height:160px;animation-delay:-1s"></div>
    <div class="dot" style="left:62%;top:18%;width:120px;height:120px;animation-delay:2s;opacity:.9"></div>
    <div class="dot" style="left:30%;top:72%;width:220px;height:220px;animation-delay:4s;opacity:.75"></div>
    <div class="dot" style="left:78%;top:60%;width:140px;height:140px;animation-delay:6s;opacity:.65"></div>
  </div>

  <div class="stage" role="main">
    <!-- LEFT -->
    <section class="showcase" aria-hidden>
      <div class="blob"></div>

      <div class="badge">
        <div class="iconWrap" aria-hidden>
          <!-- premium camera glyph (gradient circle behind) -->
          <svg width="28" height="20" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="1" y="3" width="16" height="12" rx="2" fill="white" opacity="0.12"/>
            <path d="M22 4.5l5-3v15l-5-3" fill="white" opacity="0.12"/>
          </svg>
        </div>
        <div>
          <div style="font-weight:700">Automation with SAKIB</div>
          <div style="font-size:13px;color:rgba(255,255,255,0.9)">Premium meeting access</div>
        </div>
      </div>

      <h2 class="title">Fast, secure validation for every meeting</h2>
      <p class="subtitle">Beautiful, instant UI feedback that feels premium — users only get meeting access when validated.</p>

      <div class="perkGrid" aria-hidden>
        <div class="perk">
          <div class="iconCircle" aria-hidden style="background:linear-gradient(135deg,#6ee7b7,#1ea05a)">
            <!-- check shield -->
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9 12.8l-1.8-1.8L6 12l3 3 7-7-1.2-1.2L9 12.8z" fill="white"/></svg>
          </div>
          <div><strong>Trusted attendees</strong><small>Only validated users will be allowed to join.</small></div>
        </div>

        <div class="perk">
          <div class="iconCircle" aria-hidden style="background:linear-gradient(135deg,#ffd166,#ff9f1c)">
            <!-- lightning -->
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 2L3 14h7l-1 8 10-12h-7l1-8z" fill="white"/></svg>
          </div>
          <div><strong>Instant feedback</strong><small>Clear success or friendly error messages in the form.</small></div>
        </div>

        <div class="perk">
          <div class="iconCircle" aria-hidden style="background:linear-gradient(135deg,#7dd3fc,#60a5fa)">
            <!-- shield lock -->
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2l7 4v5c0 5-3 9-7 11-4-2-7-6-7-11V6l7-4z" fill="white"/><rect x="9" y="10" width="6" height="4" rx="1" fill="#9ecdfd"/></svg>
          </div>
          <div><strong>Sleek UI</strong><small>Professional design to match your brand.</small></div>
        </div>
      </div>
    </section>

    <!-- RIGHT -->
    <aside class="card" id="card">
      <div class="brand">
       <div class="logoBox" aria-hidden>
          <!-- refined premium camera icon -->
          <svg width="36" height="26" viewBox="0 0 36 26" fill="none" xmlns="http://www.w3.org/1500/svg">
            <rect x="2" y="4" width="20" height="14" rx="2" fill="white" opacity="0.12"/>
            <path d="M26 6.5l7-4v22l-7-4" fill="white" opacity="0.12"/>
            <circle cx="12" cy="11" r="2.6" fill="white" opacity="0.06"/>
          </svg>
        </div>
        <div>
          <h1>Join Zoom Meeting</h1>
          <div class="sub">Automation with SAKIB</div>
        </div>
      </div>

      <p class="lead">Enter your full name & email to validate and get meeting access</p>

      <form id="joinForm" autocomplete="off" novalidate>
        <div class="field">
          <input id="name" name="name" type="text" placeholder=" " autocomplete="name"/>
          <label for="name">Full name</label>
          <div class="icon" aria-hidden>
            <!-- user SVG -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8z" stroke="#556" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/><path d="M20 21v-1a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v1" stroke="#556" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <div class="underline" aria-hidden></div>
        </div>

        <div class="field">
          <input id="email" name="email" type="email" placeholder=" " autocomplete="email"/>
          <label for="email">Email address</label>
          <div class="icon" aria-hidden>
            <!-- mail svg -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="3" y="5" width="18" height="14" rx="2" stroke="#556" stroke-width="1.4"/><path d="M3.5 7.5l8.5 6 8.5-6" stroke="#556" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <div class="underline" aria-hidden></div>
        </div>

        <button id="submitBtn" class="btn" type="submit" aria-live="polite">
          <span id="btnText">Validate & Join Meeting</span>
          <span id="btnSpinner" style="display:none" class="spinner" aria-hidden></span>
        </button>

        <div id="messageArea" aria-live="polite"></div>
        <p class="muted">We respect your privacy. Your info is used only to validate meeting access.</p>
      </form>

      <footer style="margin-top:14px;color:#97a0b8;font-size:13px">Hosted by Automation with SAKIB</footer>
    </aside>
  </div>

  <canvas id="confetti"></canvas>

  <script>
    const WEBHOOK_URL = "https://server3.automationlearners.pro/webhook-test/f559db8e-b719-41bd-85ab-0547207e38ef";
    const ZOOM_URL = "https://app.zoom.us/wc/85874649422/start?fromPWA=1";
    const TIMEOUT_MS = 14000;

    const form = document.getElementById('joinForm');
    const nameEl = document.getElementById('name');
    const emailEl = document.getElementById('email');
    const submitBtn = document.getElementById('submitBtn');
    const btnText = document.getElementById('btnText');
    const btnSpinner = document.getElementById('btnSpinner');
    const messageArea = document.getElementById('messageArea');

    function toggleNotEmpty(el){ if(el.value && el.value.trim().length) el.classList.add('not-empty'); else el.classList.remove('not-empty'); }
    [nameEl,emailEl].forEach(i => { i.addEventListener('input', ()=> toggleNotEmpty(i)); toggleNotEmpty(i); });

    function setLoading(on){ if(on){ submitBtn.setAttribute('disabled',''); btnText.style.opacity=.35; btnSpinner.style.display='inline-block'; } else { submitBtn.removeAttribute('disabled'); btnText.style.opacity=1; btnSpinner.style.display='none'; } }

    function showAlert(type, title, text){
      const d = document.createElement('div'); d.className = 'alert ' + (type==='success' ? 'success' : 'fail');
      const ai = document.createElement('div'); ai.className = 'ai'; ai.innerHTML = type==='success' ? '✔' : '⚠';
      const body = document.createElement('div'); body.innerHTML = `<strong>${title}</strong><div style="margin-top:6px">${text||''}</div>`;
      d.appendChild(ai); d.appendChild(body); messageArea.innerHTML=''; messageArea.appendChild(d); d.scrollIntoView({behavior:'smooth', block:'center'});
    }

    async function fetchWithTimeout(url, opts={}, timeout=TIMEOUT_MS){
      const ctrl = new AbortController(); const id = setTimeout(()=>ctrl.abort(), timeout);
      try{ const res = await fetch(url, {...opts, signal: ctrl.signal}); clearTimeout(id); return res; } catch(e){ clearTimeout(id); throw e; }
    }

    async function parseResponse(res){ const txt = await res.text(); try{ return {type:'json', data: JSON.parse(txt)} } catch(e){ return {type:'text', data: txt} } }

    form.addEventListener('submit', async (ev)=>{
      ev.preventDefault(); messageArea.innerHTML='';
      const name = nameEl.value.trim(); const email = emailEl.value.trim();
      if(!name){ showAlert('fail','Name required','Please enter your full name.'); nameEl.focus(); return; }
      if(!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)){ showAlert('fail','Email required','Please enter a valid email address.'); emailEl.focus(); return; }

      setLoading(true);
      try{
        const res = await fetchWithTimeout(WEBHOOK_URL, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ name, email }) }, TIMEOUT_MS);
        if(!res) throw new Error('No response from server');
        const parsed = await parseResponse(res);
        if(parsed.type === 'text'){
          const body = parsed.data.trim();
          if(body.startsWith('<') && body.includes('</')){ document.getElementById('card').outerHTML = body; return; }
          showAlert('success','Response', body);
        } else {
          const data = parsed.data;
          if(data.status && data.status.toLowerCase() === 'success'){
            const join = data.join_url || ZOOM_URL;
            messageArea.innerHTML = `<div class="success-card"><strong style="color:var(--success)">Validation Successful!</strong><div style="margin-top:8px">${data.message||'Your email validated successfully!'}</div><a href="${join}" target="_blank" rel="noopener">Click here to join the meeting →</a></div>`;
            runConfetti();
          } else {
            showAlert('fail','Validation Failed', data.message || 'Email not found in our records');
          }
        }
      } catch(err){
        console.error(err);
        const msg = (err.name === 'AbortError') ? 'Request timed out. Please try again.' : (err.message || 'Network error');
        showAlert('fail','Network error', msg + (String(msg).toLowerCase().includes('cors') ? ' (CORS may be blocking the response)' : ''));
      } finally { setLoading(false); }
    });

    function runConfetti(){
      const canvas = document.getElementById('confetti');
      if(!canvas) return;
      canvas.width = window.innerWidth; canvas.height = window.innerHeight;
      const ctx = canvas.getContext('2d'); const pieces=[]; const colors=['#ffd166','#ef476f','#06d6a0','#118ab2','#ffd54f','#c084fc'];
      for(let i=0;i<70;i++){ pieces.push({ x: Math.random()*canvas.width, y: -Math.random()*canvas.height, vx:(Math.random()-0.5)*6, vy:2+Math.random()*4, r:6+Math.random()*8, c:colors[Math.floor(Math.random()*colors.length)], rot:Math.random()*360, vr:(Math.random()-0.5)*6 }); }
      let t=0; function frame(){ ctx.clearRect(0,0,canvas.width,canvas.height); for(const p of pieces){ p.x+=p.vx; p.y+=p.vy; p.vy+=0.06; p.rot+=p.vr; ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.rot*Math.PI/180); ctx.fillStyle=p.c; ctx.fillRect(-p.r/2,-p.r/2,p.r,p.r*0.6); ctx.restore(); } t++; if(t<240) requestAnimationFrame(frame); else ctx.clearRect(0,0,canvas.width,canvas.height); } frame();
    }

    window.addEventListener('resize', ()=>{ const c=document.getElementById('confetti'); if(c){ c.width = window.innerWidth; c.height = window.innerHeight; }});
  </script>
</body>
</html>
